<link rel="import" href="http://www.polymer-project.org/1.0/components/polymer/polymer.html">

<link rel="import" href="./wc-movie.html">
<link rel="import" href="./wc-ticket.html">

<dom-module id="wc-window">
	
	<template>
		
		<style>
			#window {
				margin: 10px;
				padding: 20px;
				border-radius: 25px;
				background: #7890A8;
			}
			.block {
				display: block;
			}
			.centered {
				text-align: center;
			}	
			:host {
				--background: gold;
			}
		</style>

		<div id="window">
			<h1>Window</h1>
			<div on-wc-movie-click="onMovieClick">
				<template is="dom-repeat" items="{{movies}}" as="movie">
					<wc-movie poster="{{movie.poster_url}}" title="{{movie.title}}" overview="{{movie.overview}}" ></wc-movie>
				</template>
			</div>
		</div>

	</template>
	
	<script>
		
		(function () {
			WCWindow = Polymer ({
				is : 'wc-window',
				properties : {
					wallet : {
						type : Object,
						value : function () {
							return {};
						}
					},
					movies : {
						type : Array
					}
				},
				onMovieClick : function (e, ctx) {
					var ticket = new WCTicket();
					ticket.title = ctx.title;
					ticket.session = ctx.session;
					this.wallet.addTicket(ticket);
				},

				ready: function () {
					
				}
			});	
		})();

	</script>

</dom-module>

