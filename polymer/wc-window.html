<link rel="import" href="http://www.polymer-project.org/1.0/components/polymer/polymer.html">

<dom-module id="wc-window">
	
	<template>
		
		<style>
			#window {
				margin: 10px;
				padding: 20px;
				border: solid 2px #ccc;
				border-radius: 25px;
			}
			.block {
				display: block;
			}

		</style>

		<div id="window">
			<h1>Window</h1>
			<content></content>
		</div>

	</template>
	
	<script>
		
	(function () {
		WCWindow = Polymer ({
			is : 'wc-window',		
			ready : function () {
				var movies = Polymer.dom(this).querySelectorAll('wc-movie');
				movies.forEach(function (movie) {
					movie.addEventListener('click', function (evt) {
						if (evt.target.value) {
							var ticket = new WCTicket();
							ticket.title = movie.title;
							ticket.session = evt.target.value;
							this.parentNode.querySelector('#wallet').addTicket(ticket);
						}
					}.bind(this));
				}.bind(this));
			}
		});	
	})();

	</script>

</dom-module>

